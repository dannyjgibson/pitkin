extends layout

block content
  body
    .container-fluid
      h1 Pitkin
      h2 Research, Write, and Read
      if (!user)
        .login-register
          .login
            a(href="/login") login
          .register
            a(href="/register") register
      if(user)
        p welcome to Pitkin, #{user. username}!
        .activities
          .search
            a(href="/search") search
          .write
            a(href="/write") write
          .logout
            a(href="/logout") logout
      .button()
      .articles(data-bind="foreach: articles")
        .article(class="panel panel-default" id="text: $data.id, style: { display: $data.offensiveToSomeone() ? 'none' : '' }")
          .panel-heading
            span(class="glyphicon glyphicon-flag" data-bind="click: $root.flagAsOffensive")
            h3(class="title" data-bind="text: $data.title")
            h4(class="topic" data-bind="text: $data.topic")
          .panel-body
            .article-text(data-bind="text: $data.text")
          .panel-footer
            .tags(data-bind="foreach: $data.tags")
              .tag(data-bind="text: $data")
  script(type="text/javascript" src="../ko-viewModels/HomePageViewModel.js")
